<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>77777 Debug</title>

    <!-- ethers.js -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

    <script>
        function logDebug(message) {
            console.log(message);
            document.getElementById("debug-output").textContent += message + "\n";
        }

        async function loadBip39() {
            try {
                logDebug("🔄 Laddar bip39.js...");
                let script = document.createElement("script");
                script.src = "https://whoevencares-afk.github.io/bip39.js?t=" + new Date().getTime();
                script.onload = function() {
                    logDebug("✅ bip39.js laddad!");
                    testBip39();
                };
                script.onerror = function() {
                    logDebug("❌ FELKOD 1: bip39.js kunde INTE laddas! Kolla om länken funkar.");
                };
                document.head.appendChild(script);
            } catch (error) {
                logDebug("❌ FELKOD 2: Error vid dynamisk laddning av bip39.js: " + error);
            }
        }

        function testBip39() {
            setTimeout(() => {
                if (typeof bip39 === "undefined") {
                    logDebug("❌ FELKOD 3: bip39.js laddades men bip39 är fortfarande undefined!");
                    return;
                }
                logDebug("✅ bip39 är definierad!");

                if (!bip39.generateMnemonic) {
                    logDebug("❌ FELKOD 4: bip39 finns men saknar generateMnemonic!");
                    return;
                }

                logDebug("✅ bip39 fungerar som förväntat!");
            }, 2000);
        }

        loadBip39();
    </script>
</head>
<body>
    <h1>77777 Debug Mode</h1>
    <button id="start">Start</button>
    <pre id="debug-output"></pre>
</body>
</html>